<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Valentine's Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Inter:wght@300;400;600&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fff5f7 0%, #ffe3ec 100%);
            min-height: 100vh;
        }

        .cursive {
            font-family: 'Dancing Script', cursive;
        }

        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(254, 44, 85, 0.1);
        }

        .heart-float {
            position: fixed;
            pointer-events: none;
            z-index: 0;
            animation: float 6s infinite ease-in-out;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }

        .fade-in {
            animation: fadeIn 1s ease-out forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card-inner {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .scroll-hide::-webkit-scrollbar {
            display: none;
        }

        .pulse-pink {
            animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse-ring {

            0%,
            100% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.05);
                opacity: 0.8;
            }
        }
    </style>
</head>

<body class="overflow-x-hidden">

    <!-- YouTube Player Container (Hidden) -->
    <div id="youtube-player" class="fixed top-0 left-0 pointer-events-none opacity-0"></div>

    <button onclick="toggleMusic()" id="music-toggle"
        class="fixed top-5 right-5 z-50 glass p-3 rounded-full pulse-pink text-pink-500 shadow-lg flex items-center gap-2 border border-pink-200">
        <span id="music-icon">üéµ</span>
        <span class="text-xs font-bold uppercase tracking-tighter hidden md:block" id="music-status">Play Me</span>
    </button>

    <div class="heart-float text-pink-200 top-10 left-10 text-6xl">‚ô•</div>
    <div class="heart-float text-pink-300 bottom-20 right-10 text-4xl" style="animation-delay: 1s;">‚ô•</div>
    <div class="heart-float text-pink-100 top-1/2 left-5 text-5xl" style="animation-delay: 2s;">‚ô•</div>

    <div class="relative z-10 container mx-auto px-4 py-12 flex flex-col items-center justify-center min-h-screen">

        <!-- Step 1: The Intro -->
        <div id="intro-section" class="glass rounded-3xl p-8 md:p-12 max-w-lg w-full text-center fade-in">
            <h1 class="cursive text-5xl md:text-6xl text-pink-600 mb-6">Happy Valentine's Day!</h1>
            <p class="text-gray-600 mb-8 leading-relaxed">
                Before we start our game, I'd love to know... <br>
                <span class="font-semibold text-pink-500">What‚Äôs the first thing that comes to your mind when you think
                    of me?</span>
            </p>

            <textarea id="opinion-input"
                class="w-full p-4 rounded-2xl border-2 border-pink-100 focus:border-pink-400 focus:outline-none transition-all resize-none h-32 mb-6"
                placeholder="Be honest, be sweet, or be funny..."></textarea>

            <button onclick="startGame()"
                class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-4 px-10 rounded-full shadow-lg transform transition active:scale-95 hover:shadow-xl">
                Unlock Our Game ‚ú®
            </button>
        </div>

        <!-- Step 2: Truth or Dare Game -->
        <div id="game-section" class="hidden glass rounded-3xl p-8 md:p-12 max-w-2xl w-full text-center fade-in">
            <div class="mb-6">
                <div id="round-indicator"
                    class="inline-block px-4 py-1 rounded-full bg-pink-100 text-pink-600 text-xs font-bold uppercase tracking-widest mb-2">
                    Round 1
                </div>
                <h2 class="cursive text-4xl text-pink-600 mb-2">Valentine Truth or Dare</h2>
                <p id="user-greeting" class="text-pink-400 italic mb-4 text-sm"></p>
                <div class="h-1 w-20 bg-pink-200 mx-auto rounded-full"></div>
            </div>

            <div id="card-display"
                class="bg-white rounded-2xl p-10 mb-8 min-h-[250px] flex flex-col items-center justify-center border-2 border-pink-50 shadow-inner card-inner relative overflow-hidden">
                <div id="card-content" class="w-full transition-opacity duration-300">
                    <p id="challenge-text" class="text-xl md:text-2xl text-gray-700 font-medium leading-relaxed">Choose
                        your fate...</p>
                    <p id="round-title-display" class="mt-4 text-pink-300 text-sm font-light italic"></p>
                </div>
            </div>

            <div id="choice-buttons" class="grid grid-cols-2 gap-4">
                <button onclick="getTruth()"
                    class="bg-white border-2 border-pink-500 text-pink-500 hover:bg-pink-500 hover:text-white font-bold py-4 rounded-2xl transition-all shadow-md">
                    TRUTH
                </button>
                <button onclick="getDare()"
                    class="bg-pink-500 text-white hover:bg-pink-600 font-bold py-4 rounded-2xl transition-all shadow-md">
                    DARE
                </button>
            </div>

            <div class="mt-8 flex justify-between items-center w-full">
                <button onclick="resetGame()" class="text-pink-300 hover:text-pink-500 text-sm transition-colors">
                    ‚Üê Start Over
                </button>
                <button id="next-btn" onclick="nextRound()"
                    class="hidden bg-pink-100 text-pink-600 px-6 py-2 rounded-lg text-sm font-semibold hover:bg-pink-200 transition-colors">
                    Next Round ‚Üí
                </button>
                <button id="finish-btn" onclick="showClosing()"
                    class="hidden bg-pink-600 text-white px-6 py-2 rounded-lg text-sm font-semibold hover:bg-pink-700 transition-all shadow-lg animate-pulse">
                    Finish Adventure ‚ù§Ô∏è
                </button>
            </div>
        </div>

        <!-- Step 3: Final Closing Screen -->
        <div id="closing-section"
            class="hidden glass rounded-3xl p-8 md:p-12 max-w-2xl w-full text-center fade-in max-h-[80vh] overflow-y-auto scroll-hide">
            <div class="text-pink-500 text-4xl mb-6">‚ù§Ô∏è</div>
            <div class="bg-pink-50 p-6 rounded-2xl border border-pink-100 my-8">
                <p class="text-pink-600 font-medium text-center text-xl">
                    "I really love getting to know you like this. It makes me feel closer to you in the sweetest way.
                    üíï"
                </p>
            </div>
            <button onclick="resetGame()"
                class="mt-12 text-pink-300 hover:text-pink-500 text-sm transition-colors mb-4">
                Play Again?
            </button>
        </div>
    </div>

    <script>
        // YouTube API Load
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        const musicIcon = document.getElementById('music-icon');
        const musicStatus = document.getElementById('music-status');

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '0',
                width: '0',
                videoId: 'kPa7bsKwL-c',
                playerVars: {
                    'autoplay': 1,
                    'loop': 1,
                    'playlist': 'kPa7bsKwL-c',
                    'controls': 0,
                    'showinfo': 0,
                    'start': 0
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        function onPlayerReady(event) {
            event.target.setVolume(50);
            event.target.playVideo();
            updateMusicUI(true);
        }

        function updateMusicUI(isPlaying) {
            if (isPlaying) {
                musicIcon.innerText = "‚è∏";
                musicStatus.innerText = "Mute";
            } else {
                musicIcon.innerText = "üéµ";
                musicStatus.innerText = "Play Me";
            }
        }

        function toggleMusic() {
            if (!player || !player.playVideo) return;
            
            const state = player.getPlayerState();
            if (state === YT.PlayerState.PLAYING) {
                player.pauseVideo();
                updateMusicUI(false);
            } else {
                player.playVideo();
                updateMusicUI(true);
            }
        }

        const gameData = [
            {
                name: "üå± Round 1 ‚Äî Soft Start",
                truths: [
                    "Who was your first crush?", 
                    "What‚Äôs something that instantly makes you smile?",
                    "What‚Äôs a small thing that always makes your day better?",
                    "What‚Äôs something people don‚Äôt usually guess about you?"
                ],
                dares: [
                    "Send me your cutest selfie right now.", 
                    "Say my name in the sweetest way and send a voice note.",
                    "Send a GIF that represents your personality.",
                    "Show me something near you that you like a lot."
                ]
            },
            {
                name: "‚ú® Round 2 ‚Äî Curiosity",
                truths: [
                    "What‚Äôs something you‚Äôve been curious to ask me?", 
                    "What kind of energy attracts you most in someone?",
                    "What‚Äôs something you enjoy learning about people you like?",
                    "What‚Äôs something you want someone to understand about you?"
                ],
                dares: [
                    "Send a voice note asking me something you‚Äôve never asked.", 
                    "Send a song that matches how you feel when you talk to me.",
                    "Describe me in 3 words.",
                    "Send a random thought you just had about me."
                ]
            },
            {
                name: "üòè Round 3 ‚Äî Flirty Fun",
                truths: [
                    "What was the first thing you noticed about me?", 
                    "What small thing gives you butterflies?",
                    "What‚Äôs something about me you find attractive?",
                    "When do you find me most charming?"
                ],
                dares: [
                    "Send your best flirting attempt.", 
                    "Send a dramatic ‚ÄúI miss you‚Äù line like a movie character.",
                    "Send a selfie with your ‚Äúthinking about you‚Äù face.",
                    "Record yourself saying something cute to me."
                ]
            },
            {
                name: "üåç Round 4 ‚Äî Dream Dates",
                truths: [
                    "If you planned a date for me, where would you take me?", 
                    "If we could teleport anywhere together, where would we go?",
                    "What kind of date do you think suits me best?",
                    "What would make a day with me perfect for you?"
                ],
                dares: [
                    "Record yourself inviting me on your dream date.", 
                    "Send a picture of something near you that reminds you of me.",
                    "Describe our dream date like a movie trailer.",
                    "Send a voice note pretending you‚Äôre picking me up for a date."
                ]
            },
            {
                name: "üí´ Round 5 ‚Äî Deeper Connection",
                truths: [
                    "What helps you feel emotionally close to someone?", 
                    "What makes you feel safe enough to open up?",
                    "What does trust mean to you in a relationship?",
                    "What‚Äôs something you‚Äôre working on improving in yourself?"
                ],
                dares: [
                    "Tell me one thing you admire about me in a voice note.", 
                    "Send a message describing how you think I make you feel.",
                    "Share a small memory you have of me.",
                    "Send a heartfelt compliment without overthinking."
                ]
            },
            {
                name: "ü§ç Round 6 ‚Äî Bonding Finale",
                truths: [
                    "What‚Äôs something you appreciate about me that you haven‚Äôt said?", 
                    "What do you hope we always keep between us?",
                    "What kind of future moments with me make you smile?",
                    "What does love feel like to you when it‚Äôs real?"
                ],
                dares: [
                    "Send a message from ‚Äúfuture you‚Äù one year from now.", 
                    "Send a virtual hug however you imagine it.",
                    "Record yourself saying something you‚Äôd tell me if I were right next to you.",
                    "Send a final message describing what you feel about me right now."
                ]
            }
        ];

        let currentRound = 0;

        function startGame() {
            const opinion = document.getElementById('opinion-input').value.trim();
            if (!opinion) return;

            if (player && typeof player.playVideo === 'function') {
                const state = player.getPlayerState();
                if (state !== YT.PlayerState.PLAYING) {
                    player.playVideo();
                    updateMusicUI(true);
                }
            }

            document.getElementById('intro-section').classList.add('hidden');
            document.getElementById('game-section').classList.remove('hidden');
            document.getElementById('user-greeting').innerText = `Your thought: ‚Äú${opinion}‚Äù`;
            updateRoundUI();
        }

        function updateRoundUI() {
            const roundData = gameData[currentRound];
            document.getElementById('round-indicator').innerText = roundData.name;
            document.getElementById('challenge-text').innerText = "Choose your fate...";
            document.getElementById('choice-buttons').classList.remove('hidden');
            document.getElementById('next-btn').classList.add('hidden');
            document.getElementById('finish-btn').classList.add('hidden');
            document.getElementById('card-display').className = "bg-white rounded-2xl p-10 mb-8 min-h-[250px] flex flex-col items-center justify-center border-2 border-pink-50 shadow-inner card-inner relative overflow-hidden";
        }

        function getTruth() { displayChallenge("Truth"); }
        function getDare() { displayChallenge("Dare"); }

        function displayChallenge(type) {
            const card = document.getElementById('card-display');
            const text = document.getElementById('challenge-text');
            const roundData = gameData[currentRound];
            const questions = type === "Truth" ? roundData.truths : roundData.dares;
            const randomQ = questions[Math.floor(Math.random() * questions.length)];
            
            text.innerText = `${type.toUpperCase()}: ${randomQ}`;
            document.getElementById('choice-buttons').classList.add('hidden');
            
            if (currentRound === gameData.length - 1) {
                document.getElementById('finish-btn').classList.remove('hidden');
            } else {
                document.getElementById('next-btn').classList.remove('hidden');
            }
        }

        function nextRound() {
            currentRound++;
            updateRoundUI();
        }

        function showClosing() {
            document.getElementById('game-section').classList.add('hidden');
            document.getElementById('closing-section').classList.remove('hidden');
        }

        function resetGame() {
            currentRound = 0;
            document.getElementById('game-section').classList.add('hidden');
            document.getElementById('closing-section').classList.add('hidden');
            document.getElementById('intro-section').classList.remove('hidden');
        }
    </script>
</body>

</html>