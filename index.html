<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Valentine's Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Inter:wght@300;400;600&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #fff5f7 0%, #ffe3ec 100%);
            min-height: 100vh;
        }

        .cursive {
            font-family: 'Dancing Script', cursive;
        }

        .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(254, 44, 85, 0.1);
        }

        .heart-float {
            position: fixed;
            pointer-events: none;
            z-index: 0;
            animation: float 6s infinite ease-in-out;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }

        .fade-in {
            animation: fadeIn 1s ease-out forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card-inner {
            transition: transform 0.3s ease;
        }

        .scroll-hide::-webkit-scrollbar {
            display: none;
        }

        /* Music Button Pulse */
        .pulse-pink {
            animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse-ring {

            0%,
            100% {
                transform: scale(1);
                opacity: 1;
            }

            50% {
                transform: scale(1.05);
                opacity: 0.8;
            }
        }
    </style>
</head>

<body class="overflow-x-hidden">

    <!-- YouTube Player Container (Hidden) -->
    <div id="youtube-player" class="fixed top-0 left-0 pointer-events-none opacity-0"></div>

    <!-- Music Control Toggle -->
    <button onclick="toggleMusic()" id="music-toggle"
        class="fixed top-5 right-5 z-50 glass p-3 rounded-full pulse-pink text-pink-500 shadow-lg flex items-center gap-2 border border-pink-200">
        <span id="music-icon">üéµ</span>
        <span class="text-xs font-bold uppercase tracking-tighter hidden md:block" id="music-status">Play Me</span>
    </button>

    <!-- Background Hearts -->
    <div class="heart-float text-pink-200 top-10 left-10 text-6xl">‚ô•</div>
    <div class="heart-float text-pink-300 bottom-20 right-10 text-4xl" style="animation-delay: 1s;">‚ô•</div>
    <div class="heart-float text-pink-100 top-1/2 left-5 text-5xl" style="animation-delay: 2s;">‚ô•</div>

    <div class="relative z-10 container mx-auto px-4 py-12 flex flex-col items-center justify-center min-h-screen">

        <!-- Step 1: The Intro/Confession -->
        <div id="intro-section" class="glass rounded-3xl p-8 md:p-12 max-w-lg w-full text-center fade-in">
            <h1 class="cursive text-5xl md:text-6xl text-pink-600 mb-6">Happy Valentine's Day!</h1>
            <p class="text-gray-600 mb-8 leading-relaxed">
                Before we start our game, I'd love to know... <br>
                <span class="font-semibold text-pink-500">What‚Äôs the first thing that comes to your mind when you think
                    of me?</span>
            </p>

            <textarea id="opinion-input"
                class="w-full p-4 rounded-2xl border-2 border-pink-100 focus:border-pink-400 focus:outline-none transition-all resize-none h-32 mb-6"
                placeholder="Be honest, be sweet, or be funny..."></textarea>

            <button onclick="startGame()"
                class="bg-pink-500 hover:bg-pink-600 text-white font-semibold py-4 px-10 rounded-full shadow-lg transform transition active:scale-95 hover:shadow-xl">
                Unlock Our Game ‚ú®
            </button>
        </div>

        <!-- Step 2: Truth or Dare Game -->
        <div id="game-section" class="hidden glass rounded-3xl p-8 md:p-12 max-w-2xl w-full text-center fade-in">
            <div class="mb-6">
                <div id="round-indicator"
                    class="inline-block px-4 py-1 rounded-full bg-pink-100 text-pink-600 text-xs font-bold uppercase tracking-widest mb-2">
                    Round 1: Icebreaker
                </div>
                <h2 class="cursive text-4xl text-pink-600 mb-2">The Valentine Challenge</h2>
                <p id="user-greeting" class="text-pink-400 italic mb-4 text-sm"></p>
                <div class="h-1 w-20 bg-pink-200 mx-auto rounded-full"></div>
            </div>

            <div id="card-display"
                class="bg-white rounded-2xl p-10 mb-8 min-h-[220px] flex flex-col items-center justify-center border-2 border-pink-50 shadow-inner card-inner">
                <p id="challenge-text" class="text-xl md:text-2xl text-gray-700 font-medium leading-relaxed">Choose your
                    fate...</p>
                <p id="round-title-display" class="mt-4 text-pink-300 text-sm font-light italic"></p>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <button onclick="getTruth()"
                    class="bg-white border-2 border-pink-500 text-pink-500 hover:bg-pink-500 hover:text-white font-bold py-4 rounded-2xl transition-all shadow-md">
                    TRUTH
                </button>
                <button onclick="getDare()"
                    class="bg-pink-500 text-white hover:bg-pink-600 font-bold py-4 rounded-2xl transition-all shadow-md">
                    DARE
                </button>
            </div>

            <div class="mt-8 flex justify-between items-center w-full">
                <button onclick="resetGame()" class="text-pink-300 hover:text-pink-500 text-sm transition-colors">
                    ‚Üê Start Over
                </button>
                <button id="next-btn" onclick="nextRound()"
                    class="bg-pink-100 text-pink-600 px-6 py-2 rounded-lg text-sm font-semibold hover:bg-pink-200 transition-colors">
                    Next Round ‚Üí
                </button>
                <button id="finish-btn" onclick="showClosing()"
                    class="hidden bg-pink-600 text-white px-6 py-2 rounded-lg text-sm font-semibold hover:bg-pink-700 transition-all shadow-lg animate-pulse">
                    Finish Adventure ‚ù§Ô∏è
                </button>
            </div>
        </div>

        <!-- Step 3: Final Closing Screen -->
        <div id="closing-section"
            class="hidden glass rounded-3xl p-8 md:p-12 max-w-2xl w-full text-center fade-in max-h-[80vh] overflow-y-auto scroll-hide">
            <div class="text-pink-500 text-4xl mb-6">‚ù§Ô∏è</div>

            <div class="space-y-6 text-gray-700 leading-relaxed text-lg text-left italic font-light">
                <h2 class="text-2xl text-pink-600 font-semibold mb-4 text-center not-italic">Closing Note</h2>
                <p>What we just shared wasn‚Äôt just questions and dares. It was little pieces of us opening up, learning
                    each other, and choosing to understand each other more.</p>

                <p>Getting to know someone isn‚Äôt about rushing to the finish ‚Äî it‚Äôs about enjoying every step, every
                    answer, every laugh, every pause.</p>

                <div class="py-6 border-y border-pink-100 space-y-4 text-pink-600 font-medium not-italic text-center">
                    <p>I like that we‚Äôre still discovering each other.</p>
                    <p>I like that there‚Äôs more to learn.</p>
                    <p>I like that there‚Äôs more to feel.</p>
                </div>

                <p>Because that means this is just the beginning of something, not the end of something.</p>

                <p class="text-center font-semibold text-pink-500 not-italic pt-6">
                    And honestly‚Ä¶ <br>
                    <span class="text-3xl cursive mt-2 block">I‚Äôm really glad I‚Äôm getting to know you. üíó</span>
                </p>
            </div>

            <button onclick="resetGame()"
                class="mt-12 text-pink-300 hover:text-pink-500 text-sm transition-colors mb-4">
                Play Again?
            </button>
        </div>
    </div>

    <script>
        // YouTube API Load
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        const musicIcon = document.getElementById('music-icon');
        const musicStatus = document.getElementById('music-status');

        function onYouTubeIframeAPIReady() {
            player = new YT.Player('youtube-player', {
                height: '0',
                width: '0',
                videoId: 'kPa7bsKwL-c',
                playerVars: {
                    'autoplay': 1,
                    'loop': 1,
                    'playlist': 'kPa7bsKwL-c',
                    'controls': 0,
                    'showinfo': 0,
                    'start': 0
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        function onPlayerReady(event) {
            event.target.setVolume(50);
            event.target.playVideo();
            updateMusicUI(true);
        }

        function updateMusicUI(isPlaying) {
            if (isPlaying) {
                musicIcon.innerText = "‚è∏";
                musicStatus.innerText = "Mute";
            } else {
                musicIcon.innerText = "üéµ";
                musicStatus.innerText = "Play Me";
            }
        }

        function toggleMusic() {
            if (!player || !player.playVideo) return;

            const state = player.getPlayerState();
            if (state === YT.PlayerState.PLAYING) {
                player.pauseVideo();
                updateMusicUI(false);
            } else {
                player.playVideo();
                updateMusicUI(true);
            }
        }

        const gameData = [
            {
                name: "Intro Round ‚Äî Soft Start",
                questions: [
                    "Who was your first crush?",
                    "What‚Äôs something cute or silly you once did for someone you liked?",
                    "What‚Äôs something that instantly makes you smile no matter what?"
                ]
            },
            {
                name: "Round 1 ‚Äî Curiosity Sparks",
                questions: [
                    "What‚Äôs one thing you‚Äôve always wanted to ask me but haven‚Äôt?",
                    "What kind of partner energy excites you the most?",
                    "If you could plan an ideal date for me, where would you take me and why?",
                    "What instantly makes you feel close to someone?"
                ]
            },
            {
                name: "Round 2 ‚Äî Flirty & Fun Truths",
                questions: [
                    "What was the first thing you noticed about me?",
                    "What small thing gives you butterflies?",
                    "If we had an inside joke, what would it be?",
                    "What‚Äôs a small gesture from a partner you secretly love?"
                ]
            },
            {
                name: "Round 3 ‚Äî Dreaming Together",
                questions: [
                    "What‚Äôs one adventure you‚Äôd love for us to go on someday?",
                    "If we could teleport anywhere right now for a date, where would we go?",
                    "Have you ever imagined celebrating me for something? What would you do?",
                    "What does your version of a happy relationship look like?"
                ]
            },
            {
                name: "Round 4 ‚Äî Distance Dares",
                questions: [
                    "Record yourself singing one line of a song for me.",
                    "Send a goofy dance video like we‚Äôre dancing together.",
                    "Send a voice note inviting me on a date you planned.",
                    "Take a photo of something near you that reminds you of me and explain why.",
                    "Create a ‚Äúvirtual hug‚Äù however you want and send it.",
                    "Send a short goodnight or good morning message I can replay.",
                    "Send a mystery text I‚Äôll only understand after our next call.",
                    "Record three things you‚Äôre curious to learn about me.",
                    "Send a meme that represents us.",
                    "Act out your ‚Äúthinking about you‚Äù face and send it."
                ]
            },
            {
                name: "Round 5 ‚Äî Deeper Connection",
                questions: [
                    "What does emotional intimacy mean to you?",
                    "What helps you feel safe with someone?",
                    "What‚Äôs something you‚Äôre working on in yourself right now?",
                    "How do you think trust is built between two people?"
                ]
            },
            {
                name: "Round 6 ‚Äî Romantic Vision",
                questions: [
                    "What‚Äôs something small you imagine us doing together that makes you smile?",
                    "If you planned a surprise day just for me, what would it look like?",
                    "What‚Äôs something romantic you‚Äôd love for us to experience someday?",
                    "What does love feel like when it‚Äôs real, in your opinion?"
                ]
            },
            {
                name: "Final Round ‚Äî Deep Bonding",
                questions: [
                    "What‚Äôs something you hope we always keep between us?",
                    "How do you think we could help each other grow?",
                    "What‚Äôs something you appreciate about me that you‚Äôve never said?",
                    "Where do you see us emotionally if everything goes right?"
                ]
            }
        ];

        let currentRound = 0;

        function startGame() {
            const opinion = document.getElementById('opinion-input').value.trim();
            if (!opinion) {
                const box = document.getElementById('opinion-input');
                box.classList.add('border-red-300');
                setTimeout(() => box.classList.remove('border-red-300'), 1000);
                return;
            }

            if (player && typeof player.playVideo === 'function') {
                const state = player.getPlayerState();
                if (state !== YT.PlayerState.PLAYING) {
                    player.playVideo();
                    updateMusicUI(true);
                }
            }

            document.getElementById('intro-section').classList.add('hidden');
            document.getElementById('game-section').classList.remove('hidden');
            document.getElementById('user-greeting').innerText = `Your thought: ‚Äú${opinion}‚Äù`;
            updateRoundUI();
        }

        function updateRoundUI() {
            const roundData = gameData[currentRound];
            document.getElementById('round-indicator').innerText = roundData.name;
            document.getElementById('challenge-text').innerText = "Pick Truth or Dare for " + roundData.name;
            document.getElementById('round-title-display').innerText = "";

            if (currentRound === gameData.length - 1) {
                document.getElementById('next-btn').classList.add('hidden');
                document.getElementById('finish-btn').classList.remove('hidden');
            } else {
                document.getElementById('next-btn').classList.remove('hidden');
                document.getElementById('finish-btn').classList.add('hidden');
            }
        }

        function nextRound() {
            currentRound = (currentRound + 1) % gameData.length;
            updateRoundUI();
            const card = document.getElementById('card-display');
            card.classList.add('scale-95');
            setTimeout(() => card.classList.remove('scale-95'), 200);
        }

        function getTruth() {
            displayQuestion("Truth");
        }

        function getDare() {
            displayQuestion("Dare");
        }

        function displayQuestion(type) {
            const card = document.getElementById('card-display');
            const text = document.getElementById('challenge-text');
            const roundTitle = document.getElementById('round-title-display');
            const roundData = gameData[currentRound];

            card.style.transform = type === "Truth" ? "rotateY(5deg)" : "rotateY(-5deg)";

            setTimeout(() => {
                const randomQ = roundData.questions[Math.floor(Math.random() * roundData.questions.length)];
                text.innerText = `${type}: ${randomQ}`;
                roundTitle.innerText = roundData.name;
                card.style.transform = "rotateY(0deg)";

                if (type === "Truth") {
                    card.className = "bg-white rounded-2xl p-10 mb-8 min-h-[220px] flex flex-col items-center justify-center border-2 border-blue-200 shadow-inner card-inner";
                } else {
                    card.className = "bg-white rounded-2xl p-10 mb-8 min-h-[220px] flex flex-col items-center justify-center border-2 border-pink-200 shadow-inner card-inner";
                }
            }, 150);
        }

        function showClosing() {
            document.getElementById('game-section').classList.add('hidden');
            document.getElementById('closing-section').classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function resetGame() {
            currentRound = 0;
            document.getElementById('game-section').classList.add('hidden');
            document.getElementById('closing-section').classList.add('hidden');
            document.getElementById('intro-section').classList.remove('hidden');
            document.getElementById('opinion-input').value = "";
            document.getElementById('challenge-text').innerText = "Choose your fate...";
        }
    </script>
</body>

</html>